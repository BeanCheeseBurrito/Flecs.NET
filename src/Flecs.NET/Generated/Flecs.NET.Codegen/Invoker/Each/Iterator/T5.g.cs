// Each/Iterator/T5.g.cs
// File was auto-generated by /_/src/Flecs.NET.Codegen/Generators/Invoker.cs
using System;
using System.Runtime.CompilerServices;
using Flecs.NET.Utilities;
using static Flecs.NET.Bindings.flecs;

namespace Flecs.NET.Core;

public static unsafe partial class Invoker
{
    /// <summary>
    ///     Iterates over an Iter object using the provided .Each callback.
    /// </summary>
    /// <param name="it">The iter object.</param>
    /// <param name="callback">The callback.</param>
    /// <typeparam name="T0">The T0 component type.</typeparam> <typeparam name="T1">The T1 component type.</typeparam> <typeparam name="T2">The T2 component type.</typeparam> <typeparam name="T3">The T3 component type.</typeparam> <typeparam name="T4">The T4 component type.</typeparam>
    public static void Each<T0, T1, T2, T3, T4>(Iter it, Ecs.EachRefCallback<T0, T1, T2, T3, T4> callback)
    {
        int count = it.Handle->count == 0 && it.Handle->table == null ? 1 : it.Handle->count;
        
        FieldData<T0> field0 = it.GetFieldData<T0>(0); FieldData<T1> field1 = it.GetFieldData<T1>(1); FieldData<T2> field2 = it.GetFieldData<T2>(2); FieldData<T3> field3 = it.GetFieldData<T3>(3); FieldData<T4> field4 = it.GetFieldData<T4>(4);
        IterationTechnique flags = it.GetIterationTechnique(5);
            
        Ecs.TableLock(it);
        
        if (RuntimeHelpers.IsReferenceOrContainsReferences<T0>() || RuntimeHelpers.IsReferenceOrContainsReferences<T1>() || RuntimeHelpers.IsReferenceOrContainsReferences<T2>() || RuntimeHelpers.IsReferenceOrContainsReferences<T3>() || RuntimeHelpers.IsReferenceOrContainsReferences<T4>())
        {
            if (flags == IterationTechnique.None)
                Managed(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Shared)
                SharedManaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Sparse)
                SparseManaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == (IterationTechnique.Sparse | IterationTechnique.Shared))
                SparseSharedManaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
        }
        else
        {
           if (flags == IterationTechnique.None)
                Unmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Shared)
                SharedUnmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Sparse)
                SparseUnmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == (IterationTechnique.Sparse | IterationTechnique.Shared))
                SparseSharedUnmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
        }
            
        Ecs.TableUnlock(it);
        
        return;
        
        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void Unmanaged(Iter it, int count, Ecs.EachRefCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(ref field0.RefUnmanaged(i), ref field1.RefUnmanaged(i), ref field2.RefUnmanaged(i), ref field3.RefUnmanaged(i), ref field4.RefUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SharedUnmanaged(Iter it, int count, Ecs.EachRefCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(ref field0.RefSharedUnmanaged(i), ref field1.RefSharedUnmanaged(i), ref field2.RefSharedUnmanaged(i), ref field3.RefSharedUnmanaged(i), ref field4.RefSharedUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseUnmanaged(Iter it, int count, Ecs.EachRefCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(ref field0.RefSparseUnmanaged(i), ref field1.RefSparseUnmanaged(i), ref field2.RefSparseUnmanaged(i), ref field3.RefSparseUnmanaged(i), ref field4.RefSparseUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseSharedUnmanaged(Iter it, int count, Ecs.EachRefCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(ref field0.RefSparseSharedUnmanaged(i), ref field1.RefSparseSharedUnmanaged(i), ref field2.RefSparseSharedUnmanaged(i), ref field3.RefSparseSharedUnmanaged(i), ref field4.RefSparseSharedUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void Managed(Iter it, int count, Ecs.EachRefCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(ref field0.RefManaged(i), ref field1.RefManaged(i), ref field2.RefManaged(i), ref field3.RefManaged(i), ref field4.RefManaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SharedManaged(Iter it, int count, Ecs.EachRefCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(ref field0.RefSharedManaged(i), ref field1.RefSharedManaged(i), ref field2.RefSharedManaged(i), ref field3.RefSharedManaged(i), ref field4.RefSharedManaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseManaged(Iter it, int count, Ecs.EachRefCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(ref field0.RefSparseManaged(i), ref field1.RefSparseManaged(i), ref field2.RefSparseManaged(i), ref field3.RefSparseManaged(i), ref field4.RefSparseManaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseSharedManaged(Iter it, int count, Ecs.EachRefCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(ref field0.RefSparseSharedManaged(i), ref field1.RefSparseSharedManaged(i), ref field2.RefSparseSharedManaged(i), ref field3.RefSparseSharedManaged(i), ref field4.RefSparseSharedManaged(i));
        }
    }

    /// <summary>
    ///     Iterates over an Iter object using the provided .Each callback.
    /// </summary>
    /// <param name="it">The iter object.</param>
    /// <param name="callback">The callback.</param>
    /// <typeparam name="T0">The T0 component type.</typeparam> <typeparam name="T1">The T1 component type.</typeparam> <typeparam name="T2">The T2 component type.</typeparam> <typeparam name="T3">The T3 component type.</typeparam> <typeparam name="T4">The T4 component type.</typeparam>
    public static void Each<T0, T1, T2, T3, T4>(Iter it, Ecs.EachEntityRefCallback<T0, T1, T2, T3, T4> callback)
    {
        int count = it.Handle->count; Ecs.Assert(it.Handle->count > 0, "No entities returned, use Iter() or Each() without the entity argument instead.");
        
        FieldData<T0> field0 = it.GetFieldData<T0>(0); FieldData<T1> field1 = it.GetFieldData<T1>(1); FieldData<T2> field2 = it.GetFieldData<T2>(2); FieldData<T3> field3 = it.GetFieldData<T3>(3); FieldData<T4> field4 = it.GetFieldData<T4>(4);
        IterationTechnique flags = it.GetIterationTechnique(5);
            
        Ecs.TableLock(it);
        
        if (RuntimeHelpers.IsReferenceOrContainsReferences<T0>() || RuntimeHelpers.IsReferenceOrContainsReferences<T1>() || RuntimeHelpers.IsReferenceOrContainsReferences<T2>() || RuntimeHelpers.IsReferenceOrContainsReferences<T3>() || RuntimeHelpers.IsReferenceOrContainsReferences<T4>())
        {
            if (flags == IterationTechnique.None)
                Managed(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Shared)
                SharedManaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Sparse)
                SparseManaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == (IterationTechnique.Sparse | IterationTechnique.Shared))
                SparseSharedManaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
        }
        else
        {
           if (flags == IterationTechnique.None)
                Unmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Shared)
                SharedUnmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Sparse)
                SparseUnmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == (IterationTechnique.Sparse | IterationTechnique.Shared))
                SparseSharedUnmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
        }
            
        Ecs.TableUnlock(it);
        
        return;
        
        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void Unmanaged(Iter it, int count, Ecs.EachEntityRefCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(new Entity(it.Handle->world, it.Handle->entities[i]), ref field0.RefUnmanaged(i), ref field1.RefUnmanaged(i), ref field2.RefUnmanaged(i), ref field3.RefUnmanaged(i), ref field4.RefUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SharedUnmanaged(Iter it, int count, Ecs.EachEntityRefCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(new Entity(it.Handle->world, it.Handle->entities[i]), ref field0.RefSharedUnmanaged(i), ref field1.RefSharedUnmanaged(i), ref field2.RefSharedUnmanaged(i), ref field3.RefSharedUnmanaged(i), ref field4.RefSharedUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseUnmanaged(Iter it, int count, Ecs.EachEntityRefCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(new Entity(it.Handle->world, it.Handle->entities[i]), ref field0.RefSparseUnmanaged(i), ref field1.RefSparseUnmanaged(i), ref field2.RefSparseUnmanaged(i), ref field3.RefSparseUnmanaged(i), ref field4.RefSparseUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseSharedUnmanaged(Iter it, int count, Ecs.EachEntityRefCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(new Entity(it.Handle->world, it.Handle->entities[i]), ref field0.RefSparseSharedUnmanaged(i), ref field1.RefSparseSharedUnmanaged(i), ref field2.RefSparseSharedUnmanaged(i), ref field3.RefSparseSharedUnmanaged(i), ref field4.RefSparseSharedUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void Managed(Iter it, int count, Ecs.EachEntityRefCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(new Entity(it.Handle->world, it.Handle->entities[i]), ref field0.RefManaged(i), ref field1.RefManaged(i), ref field2.RefManaged(i), ref field3.RefManaged(i), ref field4.RefManaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SharedManaged(Iter it, int count, Ecs.EachEntityRefCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(new Entity(it.Handle->world, it.Handle->entities[i]), ref field0.RefSharedManaged(i), ref field1.RefSharedManaged(i), ref field2.RefSharedManaged(i), ref field3.RefSharedManaged(i), ref field4.RefSharedManaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseManaged(Iter it, int count, Ecs.EachEntityRefCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(new Entity(it.Handle->world, it.Handle->entities[i]), ref field0.RefSparseManaged(i), ref field1.RefSparseManaged(i), ref field2.RefSparseManaged(i), ref field3.RefSparseManaged(i), ref field4.RefSparseManaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseSharedManaged(Iter it, int count, Ecs.EachEntityRefCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(new Entity(it.Handle->world, it.Handle->entities[i]), ref field0.RefSparseSharedManaged(i), ref field1.RefSparseSharedManaged(i), ref field2.RefSparseSharedManaged(i), ref field3.RefSparseSharedManaged(i), ref field4.RefSparseSharedManaged(i));
        }
    }

    /// <summary>
    ///     Iterates over an Iter object using the provided .Each callback.
    /// </summary>
    /// <param name="it">The iter object.</param>
    /// <param name="callback">The callback.</param>
    /// <typeparam name="T0">The T0 component type.</typeparam> <typeparam name="T1">The T1 component type.</typeparam> <typeparam name="T2">The T2 component type.</typeparam> <typeparam name="T3">The T3 component type.</typeparam> <typeparam name="T4">The T4 component type.</typeparam>
    public static void Each<T0, T1, T2, T3, T4>(Iter it, Ecs.EachIterRefCallback<T0, T1, T2, T3, T4> callback)
    {
        int count = it.Handle->count == 0 && it.Handle->table == null ? 1 : it.Handle->count;
        
        FieldData<T0> field0 = it.GetFieldData<T0>(0); FieldData<T1> field1 = it.GetFieldData<T1>(1); FieldData<T2> field2 = it.GetFieldData<T2>(2); FieldData<T3> field3 = it.GetFieldData<T3>(3); FieldData<T4> field4 = it.GetFieldData<T4>(4);
        IterationTechnique flags = it.GetIterationTechnique(5);
            
        Ecs.TableLock(it);
        
        if (RuntimeHelpers.IsReferenceOrContainsReferences<T0>() || RuntimeHelpers.IsReferenceOrContainsReferences<T1>() || RuntimeHelpers.IsReferenceOrContainsReferences<T2>() || RuntimeHelpers.IsReferenceOrContainsReferences<T3>() || RuntimeHelpers.IsReferenceOrContainsReferences<T4>())
        {
            if (flags == IterationTechnique.None)
                Managed(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Shared)
                SharedManaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Sparse)
                SparseManaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == (IterationTechnique.Sparse | IterationTechnique.Shared))
                SparseSharedManaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
        }
        else
        {
           if (flags == IterationTechnique.None)
                Unmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Shared)
                SharedUnmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Sparse)
                SparseUnmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == (IterationTechnique.Sparse | IterationTechnique.Shared))
                SparseSharedUnmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
        }
            
        Ecs.TableUnlock(it);
        
        return;
        
        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void Unmanaged(Iter it, int count, Ecs.EachIterRefCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(it, i, ref field0.RefUnmanaged(i), ref field1.RefUnmanaged(i), ref field2.RefUnmanaged(i), ref field3.RefUnmanaged(i), ref field4.RefUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SharedUnmanaged(Iter it, int count, Ecs.EachIterRefCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(it, i, ref field0.RefSharedUnmanaged(i), ref field1.RefSharedUnmanaged(i), ref field2.RefSharedUnmanaged(i), ref field3.RefSharedUnmanaged(i), ref field4.RefSharedUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseUnmanaged(Iter it, int count, Ecs.EachIterRefCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(it, i, ref field0.RefSparseUnmanaged(i), ref field1.RefSparseUnmanaged(i), ref field2.RefSparseUnmanaged(i), ref field3.RefSparseUnmanaged(i), ref field4.RefSparseUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseSharedUnmanaged(Iter it, int count, Ecs.EachIterRefCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(it, i, ref field0.RefSparseSharedUnmanaged(i), ref field1.RefSparseSharedUnmanaged(i), ref field2.RefSparseSharedUnmanaged(i), ref field3.RefSparseSharedUnmanaged(i), ref field4.RefSparseSharedUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void Managed(Iter it, int count, Ecs.EachIterRefCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(it, i, ref field0.RefManaged(i), ref field1.RefManaged(i), ref field2.RefManaged(i), ref field3.RefManaged(i), ref field4.RefManaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SharedManaged(Iter it, int count, Ecs.EachIterRefCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(it, i, ref field0.RefSharedManaged(i), ref field1.RefSharedManaged(i), ref field2.RefSharedManaged(i), ref field3.RefSharedManaged(i), ref field4.RefSharedManaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseManaged(Iter it, int count, Ecs.EachIterRefCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(it, i, ref field0.RefSparseManaged(i), ref field1.RefSparseManaged(i), ref field2.RefSparseManaged(i), ref field3.RefSparseManaged(i), ref field4.RefSparseManaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseSharedManaged(Iter it, int count, Ecs.EachIterRefCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(it, i, ref field0.RefSparseSharedManaged(i), ref field1.RefSparseSharedManaged(i), ref field2.RefSparseSharedManaged(i), ref field3.RefSparseSharedManaged(i), ref field4.RefSparseSharedManaged(i));
        }
    }

    /// <summary>
    ///     Iterates over an Iter object using the provided .Each callback.
    /// </summary>
    /// <param name="it">The iter object.</param>
    /// <param name="callback">The callback.</param>
    /// <typeparam name="T0">The T0 component type.</typeparam> <typeparam name="T1">The T1 component type.</typeparam> <typeparam name="T2">The T2 component type.</typeparam> <typeparam name="T3">The T3 component type.</typeparam> <typeparam name="T4">The T4 component type.</typeparam>
    public static void Each<T0, T1, T2, T3, T4>(Iter it, delegate*<ref T0, ref T1, ref T2, ref T3, ref T4, void> callback)
    {
        int count = it.Handle->count == 0 && it.Handle->table == null ? 1 : it.Handle->count;
        
        FieldData<T0> field0 = it.GetFieldData<T0>(0); FieldData<T1> field1 = it.GetFieldData<T1>(1); FieldData<T2> field2 = it.GetFieldData<T2>(2); FieldData<T3> field3 = it.GetFieldData<T3>(3); FieldData<T4> field4 = it.GetFieldData<T4>(4);
        IterationTechnique flags = it.GetIterationTechnique(5);
            
        Ecs.TableLock(it);
        
        if (RuntimeHelpers.IsReferenceOrContainsReferences<T0>() || RuntimeHelpers.IsReferenceOrContainsReferences<T1>() || RuntimeHelpers.IsReferenceOrContainsReferences<T2>() || RuntimeHelpers.IsReferenceOrContainsReferences<T3>() || RuntimeHelpers.IsReferenceOrContainsReferences<T4>())
        {
            if (flags == IterationTechnique.None)
                Managed(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Shared)
                SharedManaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Sparse)
                SparseManaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == (IterationTechnique.Sparse | IterationTechnique.Shared))
                SparseSharedManaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
        }
        else
        {
           if (flags == IterationTechnique.None)
                Unmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Shared)
                SharedUnmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Sparse)
                SparseUnmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == (IterationTechnique.Sparse | IterationTechnique.Shared))
                SparseSharedUnmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
        }
            
        Ecs.TableUnlock(it);
        
        return;
        
        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void Unmanaged(Iter it, int count, delegate*<ref T0, ref T1, ref T2, ref T3, ref T4, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(ref field0.RefUnmanaged(i), ref field1.RefUnmanaged(i), ref field2.RefUnmanaged(i), ref field3.RefUnmanaged(i), ref field4.RefUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SharedUnmanaged(Iter it, int count, delegate*<ref T0, ref T1, ref T2, ref T3, ref T4, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(ref field0.RefSharedUnmanaged(i), ref field1.RefSharedUnmanaged(i), ref field2.RefSharedUnmanaged(i), ref field3.RefSharedUnmanaged(i), ref field4.RefSharedUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseUnmanaged(Iter it, int count, delegate*<ref T0, ref T1, ref T2, ref T3, ref T4, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(ref field0.RefSparseUnmanaged(i), ref field1.RefSparseUnmanaged(i), ref field2.RefSparseUnmanaged(i), ref field3.RefSparseUnmanaged(i), ref field4.RefSparseUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseSharedUnmanaged(Iter it, int count, delegate*<ref T0, ref T1, ref T2, ref T3, ref T4, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(ref field0.RefSparseSharedUnmanaged(i), ref field1.RefSparseSharedUnmanaged(i), ref field2.RefSparseSharedUnmanaged(i), ref field3.RefSparseSharedUnmanaged(i), ref field4.RefSparseSharedUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void Managed(Iter it, int count, delegate*<ref T0, ref T1, ref T2, ref T3, ref T4, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(ref field0.RefManaged(i), ref field1.RefManaged(i), ref field2.RefManaged(i), ref field3.RefManaged(i), ref field4.RefManaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SharedManaged(Iter it, int count, delegate*<ref T0, ref T1, ref T2, ref T3, ref T4, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(ref field0.RefSharedManaged(i), ref field1.RefSharedManaged(i), ref field2.RefSharedManaged(i), ref field3.RefSharedManaged(i), ref field4.RefSharedManaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseManaged(Iter it, int count, delegate*<ref T0, ref T1, ref T2, ref T3, ref T4, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(ref field0.RefSparseManaged(i), ref field1.RefSparseManaged(i), ref field2.RefSparseManaged(i), ref field3.RefSparseManaged(i), ref field4.RefSparseManaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseSharedManaged(Iter it, int count, delegate*<ref T0, ref T1, ref T2, ref T3, ref T4, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(ref field0.RefSparseSharedManaged(i), ref field1.RefSparseSharedManaged(i), ref field2.RefSparseSharedManaged(i), ref field3.RefSparseSharedManaged(i), ref field4.RefSparseSharedManaged(i));
        }
    }

    /// <summary>
    ///     Iterates over an Iter object using the provided .Each callback.
    /// </summary>
    /// <param name="it">The iter object.</param>
    /// <param name="callback">The callback.</param>
    /// <typeparam name="T0">The T0 component type.</typeparam> <typeparam name="T1">The T1 component type.</typeparam> <typeparam name="T2">The T2 component type.</typeparam> <typeparam name="T3">The T3 component type.</typeparam> <typeparam name="T4">The T4 component type.</typeparam>
    public static void Each<T0, T1, T2, T3, T4>(Iter it, delegate*<Entity, ref T0, ref T1, ref T2, ref T3, ref T4, void> callback)
    {
        int count = it.Handle->count; Ecs.Assert(it.Handle->count > 0, "No entities returned, use Iter() or Each() without the entity argument instead.");
        
        FieldData<T0> field0 = it.GetFieldData<T0>(0); FieldData<T1> field1 = it.GetFieldData<T1>(1); FieldData<T2> field2 = it.GetFieldData<T2>(2); FieldData<T3> field3 = it.GetFieldData<T3>(3); FieldData<T4> field4 = it.GetFieldData<T4>(4);
        IterationTechnique flags = it.GetIterationTechnique(5);
            
        Ecs.TableLock(it);
        
        if (RuntimeHelpers.IsReferenceOrContainsReferences<T0>() || RuntimeHelpers.IsReferenceOrContainsReferences<T1>() || RuntimeHelpers.IsReferenceOrContainsReferences<T2>() || RuntimeHelpers.IsReferenceOrContainsReferences<T3>() || RuntimeHelpers.IsReferenceOrContainsReferences<T4>())
        {
            if (flags == IterationTechnique.None)
                Managed(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Shared)
                SharedManaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Sparse)
                SparseManaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == (IterationTechnique.Sparse | IterationTechnique.Shared))
                SparseSharedManaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
        }
        else
        {
           if (flags == IterationTechnique.None)
                Unmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Shared)
                SharedUnmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Sparse)
                SparseUnmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == (IterationTechnique.Sparse | IterationTechnique.Shared))
                SparseSharedUnmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
        }
            
        Ecs.TableUnlock(it);
        
        return;
        
        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void Unmanaged(Iter it, int count, delegate*<Entity, ref T0, ref T1, ref T2, ref T3, ref T4, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(new Entity(it.Handle->world, it.Handle->entities[i]), ref field0.RefUnmanaged(i), ref field1.RefUnmanaged(i), ref field2.RefUnmanaged(i), ref field3.RefUnmanaged(i), ref field4.RefUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SharedUnmanaged(Iter it, int count, delegate*<Entity, ref T0, ref T1, ref T2, ref T3, ref T4, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(new Entity(it.Handle->world, it.Handle->entities[i]), ref field0.RefSharedUnmanaged(i), ref field1.RefSharedUnmanaged(i), ref field2.RefSharedUnmanaged(i), ref field3.RefSharedUnmanaged(i), ref field4.RefSharedUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseUnmanaged(Iter it, int count, delegate*<Entity, ref T0, ref T1, ref T2, ref T3, ref T4, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(new Entity(it.Handle->world, it.Handle->entities[i]), ref field0.RefSparseUnmanaged(i), ref field1.RefSparseUnmanaged(i), ref field2.RefSparseUnmanaged(i), ref field3.RefSparseUnmanaged(i), ref field4.RefSparseUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseSharedUnmanaged(Iter it, int count, delegate*<Entity, ref T0, ref T1, ref T2, ref T3, ref T4, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(new Entity(it.Handle->world, it.Handle->entities[i]), ref field0.RefSparseSharedUnmanaged(i), ref field1.RefSparseSharedUnmanaged(i), ref field2.RefSparseSharedUnmanaged(i), ref field3.RefSparseSharedUnmanaged(i), ref field4.RefSparseSharedUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void Managed(Iter it, int count, delegate*<Entity, ref T0, ref T1, ref T2, ref T3, ref T4, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(new Entity(it.Handle->world, it.Handle->entities[i]), ref field0.RefManaged(i), ref field1.RefManaged(i), ref field2.RefManaged(i), ref field3.RefManaged(i), ref field4.RefManaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SharedManaged(Iter it, int count, delegate*<Entity, ref T0, ref T1, ref T2, ref T3, ref T4, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(new Entity(it.Handle->world, it.Handle->entities[i]), ref field0.RefSharedManaged(i), ref field1.RefSharedManaged(i), ref field2.RefSharedManaged(i), ref field3.RefSharedManaged(i), ref field4.RefSharedManaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseManaged(Iter it, int count, delegate*<Entity, ref T0, ref T1, ref T2, ref T3, ref T4, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(new Entity(it.Handle->world, it.Handle->entities[i]), ref field0.RefSparseManaged(i), ref field1.RefSparseManaged(i), ref field2.RefSparseManaged(i), ref field3.RefSparseManaged(i), ref field4.RefSparseManaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseSharedManaged(Iter it, int count, delegate*<Entity, ref T0, ref T1, ref T2, ref T3, ref T4, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(new Entity(it.Handle->world, it.Handle->entities[i]), ref field0.RefSparseSharedManaged(i), ref field1.RefSparseSharedManaged(i), ref field2.RefSparseSharedManaged(i), ref field3.RefSparseSharedManaged(i), ref field4.RefSparseSharedManaged(i));
        }
    }

    /// <summary>
    ///     Iterates over an Iter object using the provided .Each callback.
    /// </summary>
    /// <param name="it">The iter object.</param>
    /// <param name="callback">The callback.</param>
    /// <typeparam name="T0">The T0 component type.</typeparam> <typeparam name="T1">The T1 component type.</typeparam> <typeparam name="T2">The T2 component type.</typeparam> <typeparam name="T3">The T3 component type.</typeparam> <typeparam name="T4">The T4 component type.</typeparam>
    public static void Each<T0, T1, T2, T3, T4>(Iter it, delegate*<Iter, int, ref T0, ref T1, ref T2, ref T3, ref T4, void> callback)
    {
        int count = it.Handle->count == 0 && it.Handle->table == null ? 1 : it.Handle->count;
        
        FieldData<T0> field0 = it.GetFieldData<T0>(0); FieldData<T1> field1 = it.GetFieldData<T1>(1); FieldData<T2> field2 = it.GetFieldData<T2>(2); FieldData<T3> field3 = it.GetFieldData<T3>(3); FieldData<T4> field4 = it.GetFieldData<T4>(4);
        IterationTechnique flags = it.GetIterationTechnique(5);
            
        Ecs.TableLock(it);
        
        if (RuntimeHelpers.IsReferenceOrContainsReferences<T0>() || RuntimeHelpers.IsReferenceOrContainsReferences<T1>() || RuntimeHelpers.IsReferenceOrContainsReferences<T2>() || RuntimeHelpers.IsReferenceOrContainsReferences<T3>() || RuntimeHelpers.IsReferenceOrContainsReferences<T4>())
        {
            if (flags == IterationTechnique.None)
                Managed(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Shared)
                SharedManaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Sparse)
                SparseManaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == (IterationTechnique.Sparse | IterationTechnique.Shared))
                SparseSharedManaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
        }
        else
        {
           if (flags == IterationTechnique.None)
                Unmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Shared)
                SharedUnmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Sparse)
                SparseUnmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == (IterationTechnique.Sparse | IterationTechnique.Shared))
                SparseSharedUnmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
        }
            
        Ecs.TableUnlock(it);
        
        return;
        
        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void Unmanaged(Iter it, int count, delegate*<Iter, int, ref T0, ref T1, ref T2, ref T3, ref T4, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(it, i, ref field0.RefUnmanaged(i), ref field1.RefUnmanaged(i), ref field2.RefUnmanaged(i), ref field3.RefUnmanaged(i), ref field4.RefUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SharedUnmanaged(Iter it, int count, delegate*<Iter, int, ref T0, ref T1, ref T2, ref T3, ref T4, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(it, i, ref field0.RefSharedUnmanaged(i), ref field1.RefSharedUnmanaged(i), ref field2.RefSharedUnmanaged(i), ref field3.RefSharedUnmanaged(i), ref field4.RefSharedUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseUnmanaged(Iter it, int count, delegate*<Iter, int, ref T0, ref T1, ref T2, ref T3, ref T4, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(it, i, ref field0.RefSparseUnmanaged(i), ref field1.RefSparseUnmanaged(i), ref field2.RefSparseUnmanaged(i), ref field3.RefSparseUnmanaged(i), ref field4.RefSparseUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseSharedUnmanaged(Iter it, int count, delegate*<Iter, int, ref T0, ref T1, ref T2, ref T3, ref T4, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(it, i, ref field0.RefSparseSharedUnmanaged(i), ref field1.RefSparseSharedUnmanaged(i), ref field2.RefSparseSharedUnmanaged(i), ref field3.RefSparseSharedUnmanaged(i), ref field4.RefSparseSharedUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void Managed(Iter it, int count, delegate*<Iter, int, ref T0, ref T1, ref T2, ref T3, ref T4, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(it, i, ref field0.RefManaged(i), ref field1.RefManaged(i), ref field2.RefManaged(i), ref field3.RefManaged(i), ref field4.RefManaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SharedManaged(Iter it, int count, delegate*<Iter, int, ref T0, ref T1, ref T2, ref T3, ref T4, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(it, i, ref field0.RefSharedManaged(i), ref field1.RefSharedManaged(i), ref field2.RefSharedManaged(i), ref field3.RefSharedManaged(i), ref field4.RefSharedManaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseManaged(Iter it, int count, delegate*<Iter, int, ref T0, ref T1, ref T2, ref T3, ref T4, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(it, i, ref field0.RefSparseManaged(i), ref field1.RefSparseManaged(i), ref field2.RefSparseManaged(i), ref field3.RefSparseManaged(i), ref field4.RefSparseManaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseSharedManaged(Iter it, int count, delegate*<Iter, int, ref T0, ref T1, ref T2, ref T3, ref T4, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(it, i, ref field0.RefSparseSharedManaged(i), ref field1.RefSparseSharedManaged(i), ref field2.RefSparseSharedManaged(i), ref field3.RefSparseSharedManaged(i), ref field4.RefSparseSharedManaged(i));
        }
    }

    /// <summary>
    ///     Iterates over an Iter object using the provided .Each callback.
    /// </summary>
    /// <param name="it">The iter object.</param>
    /// <param name="callback">The callback.</param>
    /// <typeparam name="T0">The T0 component type.</typeparam> <typeparam name="T1">The T1 component type.</typeparam> <typeparam name="T2">The T2 component type.</typeparam> <typeparam name="T3">The T3 component type.</typeparam> <typeparam name="T4">The T4 component type.</typeparam>
    public static void Each<T0, T1, T2, T3, T4>(Iter it, Ecs.EachPointerCallback<T0, T1, T2, T3, T4> callback)
    {
        int count = it.Handle->count == 0 && it.Handle->table == null ? 1 : it.Handle->count;
        
        FieldData<T0> field0 = it.GetFieldData<T0>(0); FieldData<T1> field1 = it.GetFieldData<T1>(1); FieldData<T2> field2 = it.GetFieldData<T2>(2); FieldData<T3> field3 = it.GetFieldData<T3>(3); FieldData<T4> field4 = it.GetFieldData<T4>(4);
        IterationTechnique flags = it.GetIterationTechnique(5);
            
        Ecs.TableLock(it);
        
        if (RuntimeHelpers.IsReferenceOrContainsReferences<T0>() || RuntimeHelpers.IsReferenceOrContainsReferences<T1>() || RuntimeHelpers.IsReferenceOrContainsReferences<T2>() || RuntimeHelpers.IsReferenceOrContainsReferences<T3>() || RuntimeHelpers.IsReferenceOrContainsReferences<T4>())
        {
            if (flags == IterationTechnique.None)
                Managed(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Shared)
                SharedManaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Sparse)
                SparseManaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == (IterationTechnique.Sparse | IterationTechnique.Shared))
                SparseSharedManaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
        }
        else
        {
           if (flags == IterationTechnique.None)
                Unmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Shared)
                SharedUnmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Sparse)
                SparseUnmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == (IterationTechnique.Sparse | IterationTechnique.Shared))
                SparseSharedUnmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
        }
            
        Ecs.TableUnlock(it);
        
        return;
        
        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void Unmanaged(Iter it, int count, Ecs.EachPointerCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(field0.PointerUnmanaged(i), field1.PointerUnmanaged(i), field2.PointerUnmanaged(i), field3.PointerUnmanaged(i), field4.PointerUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SharedUnmanaged(Iter it, int count, Ecs.EachPointerCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(field0.PointerSharedUnmanaged(i), field1.PointerSharedUnmanaged(i), field2.PointerSharedUnmanaged(i), field3.PointerSharedUnmanaged(i), field4.PointerSharedUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseUnmanaged(Iter it, int count, Ecs.EachPointerCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(field0.PointerSparseUnmanaged(i), field1.PointerSparseUnmanaged(i), field2.PointerSparseUnmanaged(i), field3.PointerSparseUnmanaged(i), field4.PointerSparseUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseSharedUnmanaged(Iter it, int count, Ecs.EachPointerCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(field0.PointerSparseSharedUnmanaged(i), field1.PointerSparseSharedUnmanaged(i), field2.PointerSparseSharedUnmanaged(i), field3.PointerSparseSharedUnmanaged(i), field4.PointerSparseSharedUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void Managed(Iter it, int count, Ecs.EachPointerCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(field0.PointerManaged(i), field1.PointerManaged(i), field2.PointerManaged(i), field3.PointerManaged(i), field4.PointerManaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SharedManaged(Iter it, int count, Ecs.EachPointerCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(field0.PointerSharedManaged(i), field1.PointerSharedManaged(i), field2.PointerSharedManaged(i), field3.PointerSharedManaged(i), field4.PointerSharedManaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseManaged(Iter it, int count, Ecs.EachPointerCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(field0.PointerSparseManaged(i), field1.PointerSparseManaged(i), field2.PointerSparseManaged(i), field3.PointerSparseManaged(i), field4.PointerSparseManaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseSharedManaged(Iter it, int count, Ecs.EachPointerCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(field0.PointerSparseSharedManaged(i), field1.PointerSparseSharedManaged(i), field2.PointerSparseSharedManaged(i), field3.PointerSparseSharedManaged(i), field4.PointerSparseSharedManaged(i));
        }
    }

    /// <summary>
    ///     Iterates over an Iter object using the provided .Each callback.
    /// </summary>
    /// <param name="it">The iter object.</param>
    /// <param name="callback">The callback.</param>
    /// <typeparam name="T0">The T0 component type.</typeparam> <typeparam name="T1">The T1 component type.</typeparam> <typeparam name="T2">The T2 component type.</typeparam> <typeparam name="T3">The T3 component type.</typeparam> <typeparam name="T4">The T4 component type.</typeparam>
    public static void Each<T0, T1, T2, T3, T4>(Iter it, Ecs.EachEntityPointerCallback<T0, T1, T2, T3, T4> callback)
    {
        int count = it.Handle->count; Ecs.Assert(it.Handle->count > 0, "No entities returned, use Iter() or Each() without the entity argument instead.");
        
        FieldData<T0> field0 = it.GetFieldData<T0>(0); FieldData<T1> field1 = it.GetFieldData<T1>(1); FieldData<T2> field2 = it.GetFieldData<T2>(2); FieldData<T3> field3 = it.GetFieldData<T3>(3); FieldData<T4> field4 = it.GetFieldData<T4>(4);
        IterationTechnique flags = it.GetIterationTechnique(5);
            
        Ecs.TableLock(it);
        
        if (RuntimeHelpers.IsReferenceOrContainsReferences<T0>() || RuntimeHelpers.IsReferenceOrContainsReferences<T1>() || RuntimeHelpers.IsReferenceOrContainsReferences<T2>() || RuntimeHelpers.IsReferenceOrContainsReferences<T3>() || RuntimeHelpers.IsReferenceOrContainsReferences<T4>())
        {
            if (flags == IterationTechnique.None)
                Managed(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Shared)
                SharedManaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Sparse)
                SparseManaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == (IterationTechnique.Sparse | IterationTechnique.Shared))
                SparseSharedManaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
        }
        else
        {
           if (flags == IterationTechnique.None)
                Unmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Shared)
                SharedUnmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Sparse)
                SparseUnmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == (IterationTechnique.Sparse | IterationTechnique.Shared))
                SparseSharedUnmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
        }
            
        Ecs.TableUnlock(it);
        
        return;
        
        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void Unmanaged(Iter it, int count, Ecs.EachEntityPointerCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(new Entity(it.Handle->world, it.Handle->entities[i]), field0.PointerUnmanaged(i), field1.PointerUnmanaged(i), field2.PointerUnmanaged(i), field3.PointerUnmanaged(i), field4.PointerUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SharedUnmanaged(Iter it, int count, Ecs.EachEntityPointerCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(new Entity(it.Handle->world, it.Handle->entities[i]), field0.PointerSharedUnmanaged(i), field1.PointerSharedUnmanaged(i), field2.PointerSharedUnmanaged(i), field3.PointerSharedUnmanaged(i), field4.PointerSharedUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseUnmanaged(Iter it, int count, Ecs.EachEntityPointerCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(new Entity(it.Handle->world, it.Handle->entities[i]), field0.PointerSparseUnmanaged(i), field1.PointerSparseUnmanaged(i), field2.PointerSparseUnmanaged(i), field3.PointerSparseUnmanaged(i), field4.PointerSparseUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseSharedUnmanaged(Iter it, int count, Ecs.EachEntityPointerCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(new Entity(it.Handle->world, it.Handle->entities[i]), field0.PointerSparseSharedUnmanaged(i), field1.PointerSparseSharedUnmanaged(i), field2.PointerSparseSharedUnmanaged(i), field3.PointerSparseSharedUnmanaged(i), field4.PointerSparseSharedUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void Managed(Iter it, int count, Ecs.EachEntityPointerCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(new Entity(it.Handle->world, it.Handle->entities[i]), field0.PointerManaged(i), field1.PointerManaged(i), field2.PointerManaged(i), field3.PointerManaged(i), field4.PointerManaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SharedManaged(Iter it, int count, Ecs.EachEntityPointerCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(new Entity(it.Handle->world, it.Handle->entities[i]), field0.PointerSharedManaged(i), field1.PointerSharedManaged(i), field2.PointerSharedManaged(i), field3.PointerSharedManaged(i), field4.PointerSharedManaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseManaged(Iter it, int count, Ecs.EachEntityPointerCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(new Entity(it.Handle->world, it.Handle->entities[i]), field0.PointerSparseManaged(i), field1.PointerSparseManaged(i), field2.PointerSparseManaged(i), field3.PointerSparseManaged(i), field4.PointerSparseManaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseSharedManaged(Iter it, int count, Ecs.EachEntityPointerCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(new Entity(it.Handle->world, it.Handle->entities[i]), field0.PointerSparseSharedManaged(i), field1.PointerSparseSharedManaged(i), field2.PointerSparseSharedManaged(i), field3.PointerSparseSharedManaged(i), field4.PointerSparseSharedManaged(i));
        }
    }

    /// <summary>
    ///     Iterates over an Iter object using the provided .Each callback.
    /// </summary>
    /// <param name="it">The iter object.</param>
    /// <param name="callback">The callback.</param>
    /// <typeparam name="T0">The T0 component type.</typeparam> <typeparam name="T1">The T1 component type.</typeparam> <typeparam name="T2">The T2 component type.</typeparam> <typeparam name="T3">The T3 component type.</typeparam> <typeparam name="T4">The T4 component type.</typeparam>
    public static void Each<T0, T1, T2, T3, T4>(Iter it, Ecs.EachIterPointerCallback<T0, T1, T2, T3, T4> callback)
    {
        int count = it.Handle->count == 0 && it.Handle->table == null ? 1 : it.Handle->count;
        
        FieldData<T0> field0 = it.GetFieldData<T0>(0); FieldData<T1> field1 = it.GetFieldData<T1>(1); FieldData<T2> field2 = it.GetFieldData<T2>(2); FieldData<T3> field3 = it.GetFieldData<T3>(3); FieldData<T4> field4 = it.GetFieldData<T4>(4);
        IterationTechnique flags = it.GetIterationTechnique(5);
            
        Ecs.TableLock(it);
        
        if (RuntimeHelpers.IsReferenceOrContainsReferences<T0>() || RuntimeHelpers.IsReferenceOrContainsReferences<T1>() || RuntimeHelpers.IsReferenceOrContainsReferences<T2>() || RuntimeHelpers.IsReferenceOrContainsReferences<T3>() || RuntimeHelpers.IsReferenceOrContainsReferences<T4>())
        {
            if (flags == IterationTechnique.None)
                Managed(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Shared)
                SharedManaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Sparse)
                SparseManaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == (IterationTechnique.Sparse | IterationTechnique.Shared))
                SparseSharedManaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
        }
        else
        {
           if (flags == IterationTechnique.None)
                Unmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Shared)
                SharedUnmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Sparse)
                SparseUnmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == (IterationTechnique.Sparse | IterationTechnique.Shared))
                SparseSharedUnmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
        }
            
        Ecs.TableUnlock(it);
        
        return;
        
        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void Unmanaged(Iter it, int count, Ecs.EachIterPointerCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(it, i, field0.PointerUnmanaged(i), field1.PointerUnmanaged(i), field2.PointerUnmanaged(i), field3.PointerUnmanaged(i), field4.PointerUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SharedUnmanaged(Iter it, int count, Ecs.EachIterPointerCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(it, i, field0.PointerSharedUnmanaged(i), field1.PointerSharedUnmanaged(i), field2.PointerSharedUnmanaged(i), field3.PointerSharedUnmanaged(i), field4.PointerSharedUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseUnmanaged(Iter it, int count, Ecs.EachIterPointerCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(it, i, field0.PointerSparseUnmanaged(i), field1.PointerSparseUnmanaged(i), field2.PointerSparseUnmanaged(i), field3.PointerSparseUnmanaged(i), field4.PointerSparseUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseSharedUnmanaged(Iter it, int count, Ecs.EachIterPointerCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(it, i, field0.PointerSparseSharedUnmanaged(i), field1.PointerSparseSharedUnmanaged(i), field2.PointerSparseSharedUnmanaged(i), field3.PointerSparseSharedUnmanaged(i), field4.PointerSparseSharedUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void Managed(Iter it, int count, Ecs.EachIterPointerCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(it, i, field0.PointerManaged(i), field1.PointerManaged(i), field2.PointerManaged(i), field3.PointerManaged(i), field4.PointerManaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SharedManaged(Iter it, int count, Ecs.EachIterPointerCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(it, i, field0.PointerSharedManaged(i), field1.PointerSharedManaged(i), field2.PointerSharedManaged(i), field3.PointerSharedManaged(i), field4.PointerSharedManaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseManaged(Iter it, int count, Ecs.EachIterPointerCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(it, i, field0.PointerSparseManaged(i), field1.PointerSparseManaged(i), field2.PointerSparseManaged(i), field3.PointerSparseManaged(i), field4.PointerSparseManaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseSharedManaged(Iter it, int count, Ecs.EachIterPointerCallback<T0, T1, T2, T3, T4> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(it, i, field0.PointerSparseSharedManaged(i), field1.PointerSparseSharedManaged(i), field2.PointerSparseSharedManaged(i), field3.PointerSparseSharedManaged(i), field4.PointerSparseSharedManaged(i));
        }
    }

    /// <summary>
    ///     Iterates over an Iter object using the provided .Each callback.
    /// </summary>
    /// <param name="it">The iter object.</param>
    /// <param name="callback">The callback.</param>
    /// <typeparam name="T0">The T0 component type.</typeparam> <typeparam name="T1">The T1 component type.</typeparam> <typeparam name="T2">The T2 component type.</typeparam> <typeparam name="T3">The T3 component type.</typeparam> <typeparam name="T4">The T4 component type.</typeparam>
    public static void Each<T0, T1, T2, T3, T4>(Iter it, delegate*<T0*, T1*, T2*, T3*, T4*, void> callback)
    {
        int count = it.Handle->count == 0 && it.Handle->table == null ? 1 : it.Handle->count;
        
        FieldData<T0> field0 = it.GetFieldData<T0>(0); FieldData<T1> field1 = it.GetFieldData<T1>(1); FieldData<T2> field2 = it.GetFieldData<T2>(2); FieldData<T3> field3 = it.GetFieldData<T3>(3); FieldData<T4> field4 = it.GetFieldData<T4>(4);
        IterationTechnique flags = it.GetIterationTechnique(5);
            
        Ecs.TableLock(it);
        
        if (RuntimeHelpers.IsReferenceOrContainsReferences<T0>() || RuntimeHelpers.IsReferenceOrContainsReferences<T1>() || RuntimeHelpers.IsReferenceOrContainsReferences<T2>() || RuntimeHelpers.IsReferenceOrContainsReferences<T3>() || RuntimeHelpers.IsReferenceOrContainsReferences<T4>())
        {
            if (flags == IterationTechnique.None)
                Managed(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Shared)
                SharedManaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Sparse)
                SparseManaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == (IterationTechnique.Sparse | IterationTechnique.Shared))
                SparseSharedManaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
        }
        else
        {
           if (flags == IterationTechnique.None)
                Unmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Shared)
                SharedUnmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Sparse)
                SparseUnmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == (IterationTechnique.Sparse | IterationTechnique.Shared))
                SparseSharedUnmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
        }
            
        Ecs.TableUnlock(it);
        
        return;
        
        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void Unmanaged(Iter it, int count, delegate*<T0*, T1*, T2*, T3*, T4*, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(field0.PointerUnmanaged(i), field1.PointerUnmanaged(i), field2.PointerUnmanaged(i), field3.PointerUnmanaged(i), field4.PointerUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SharedUnmanaged(Iter it, int count, delegate*<T0*, T1*, T2*, T3*, T4*, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(field0.PointerSharedUnmanaged(i), field1.PointerSharedUnmanaged(i), field2.PointerSharedUnmanaged(i), field3.PointerSharedUnmanaged(i), field4.PointerSharedUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseUnmanaged(Iter it, int count, delegate*<T0*, T1*, T2*, T3*, T4*, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(field0.PointerSparseUnmanaged(i), field1.PointerSparseUnmanaged(i), field2.PointerSparseUnmanaged(i), field3.PointerSparseUnmanaged(i), field4.PointerSparseUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseSharedUnmanaged(Iter it, int count, delegate*<T0*, T1*, T2*, T3*, T4*, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(field0.PointerSparseSharedUnmanaged(i), field1.PointerSparseSharedUnmanaged(i), field2.PointerSparseSharedUnmanaged(i), field3.PointerSparseSharedUnmanaged(i), field4.PointerSparseSharedUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void Managed(Iter it, int count, delegate*<T0*, T1*, T2*, T3*, T4*, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(field0.PointerManaged(i), field1.PointerManaged(i), field2.PointerManaged(i), field3.PointerManaged(i), field4.PointerManaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SharedManaged(Iter it, int count, delegate*<T0*, T1*, T2*, T3*, T4*, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(field0.PointerSharedManaged(i), field1.PointerSharedManaged(i), field2.PointerSharedManaged(i), field3.PointerSharedManaged(i), field4.PointerSharedManaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseManaged(Iter it, int count, delegate*<T0*, T1*, T2*, T3*, T4*, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(field0.PointerSparseManaged(i), field1.PointerSparseManaged(i), field2.PointerSparseManaged(i), field3.PointerSparseManaged(i), field4.PointerSparseManaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseSharedManaged(Iter it, int count, delegate*<T0*, T1*, T2*, T3*, T4*, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(field0.PointerSparseSharedManaged(i), field1.PointerSparseSharedManaged(i), field2.PointerSparseSharedManaged(i), field3.PointerSparseSharedManaged(i), field4.PointerSparseSharedManaged(i));
        }
    }

    /// <summary>
    ///     Iterates over an Iter object using the provided .Each callback.
    /// </summary>
    /// <param name="it">The iter object.</param>
    /// <param name="callback">The callback.</param>
    /// <typeparam name="T0">The T0 component type.</typeparam> <typeparam name="T1">The T1 component type.</typeparam> <typeparam name="T2">The T2 component type.</typeparam> <typeparam name="T3">The T3 component type.</typeparam> <typeparam name="T4">The T4 component type.</typeparam>
    public static void Each<T0, T1, T2, T3, T4>(Iter it, delegate*<Entity, T0*, T1*, T2*, T3*, T4*, void> callback)
    {
        int count = it.Handle->count; Ecs.Assert(it.Handle->count > 0, "No entities returned, use Iter() or Each() without the entity argument instead.");
        
        FieldData<T0> field0 = it.GetFieldData<T0>(0); FieldData<T1> field1 = it.GetFieldData<T1>(1); FieldData<T2> field2 = it.GetFieldData<T2>(2); FieldData<T3> field3 = it.GetFieldData<T3>(3); FieldData<T4> field4 = it.GetFieldData<T4>(4);
        IterationTechnique flags = it.GetIterationTechnique(5);
            
        Ecs.TableLock(it);
        
        if (RuntimeHelpers.IsReferenceOrContainsReferences<T0>() || RuntimeHelpers.IsReferenceOrContainsReferences<T1>() || RuntimeHelpers.IsReferenceOrContainsReferences<T2>() || RuntimeHelpers.IsReferenceOrContainsReferences<T3>() || RuntimeHelpers.IsReferenceOrContainsReferences<T4>())
        {
            if (flags == IterationTechnique.None)
                Managed(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Shared)
                SharedManaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Sparse)
                SparseManaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == (IterationTechnique.Sparse | IterationTechnique.Shared))
                SparseSharedManaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
        }
        else
        {
           if (flags == IterationTechnique.None)
                Unmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Shared)
                SharedUnmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Sparse)
                SparseUnmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == (IterationTechnique.Sparse | IterationTechnique.Shared))
                SparseSharedUnmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
        }
            
        Ecs.TableUnlock(it);
        
        return;
        
        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void Unmanaged(Iter it, int count, delegate*<Entity, T0*, T1*, T2*, T3*, T4*, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(new Entity(it.Handle->world, it.Handle->entities[i]), field0.PointerUnmanaged(i), field1.PointerUnmanaged(i), field2.PointerUnmanaged(i), field3.PointerUnmanaged(i), field4.PointerUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SharedUnmanaged(Iter it, int count, delegate*<Entity, T0*, T1*, T2*, T3*, T4*, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(new Entity(it.Handle->world, it.Handle->entities[i]), field0.PointerSharedUnmanaged(i), field1.PointerSharedUnmanaged(i), field2.PointerSharedUnmanaged(i), field3.PointerSharedUnmanaged(i), field4.PointerSharedUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseUnmanaged(Iter it, int count, delegate*<Entity, T0*, T1*, T2*, T3*, T4*, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(new Entity(it.Handle->world, it.Handle->entities[i]), field0.PointerSparseUnmanaged(i), field1.PointerSparseUnmanaged(i), field2.PointerSparseUnmanaged(i), field3.PointerSparseUnmanaged(i), field4.PointerSparseUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseSharedUnmanaged(Iter it, int count, delegate*<Entity, T0*, T1*, T2*, T3*, T4*, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(new Entity(it.Handle->world, it.Handle->entities[i]), field0.PointerSparseSharedUnmanaged(i), field1.PointerSparseSharedUnmanaged(i), field2.PointerSparseSharedUnmanaged(i), field3.PointerSparseSharedUnmanaged(i), field4.PointerSparseSharedUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void Managed(Iter it, int count, delegate*<Entity, T0*, T1*, T2*, T3*, T4*, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(new Entity(it.Handle->world, it.Handle->entities[i]), field0.PointerManaged(i), field1.PointerManaged(i), field2.PointerManaged(i), field3.PointerManaged(i), field4.PointerManaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SharedManaged(Iter it, int count, delegate*<Entity, T0*, T1*, T2*, T3*, T4*, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(new Entity(it.Handle->world, it.Handle->entities[i]), field0.PointerSharedManaged(i), field1.PointerSharedManaged(i), field2.PointerSharedManaged(i), field3.PointerSharedManaged(i), field4.PointerSharedManaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseManaged(Iter it, int count, delegate*<Entity, T0*, T1*, T2*, T3*, T4*, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(new Entity(it.Handle->world, it.Handle->entities[i]), field0.PointerSparseManaged(i), field1.PointerSparseManaged(i), field2.PointerSparseManaged(i), field3.PointerSparseManaged(i), field4.PointerSparseManaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseSharedManaged(Iter it, int count, delegate*<Entity, T0*, T1*, T2*, T3*, T4*, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(new Entity(it.Handle->world, it.Handle->entities[i]), field0.PointerSparseSharedManaged(i), field1.PointerSparseSharedManaged(i), field2.PointerSparseSharedManaged(i), field3.PointerSparseSharedManaged(i), field4.PointerSparseSharedManaged(i));
        }
    }

    /// <summary>
    ///     Iterates over an Iter object using the provided .Each callback.
    /// </summary>
    /// <param name="it">The iter object.</param>
    /// <param name="callback">The callback.</param>
    /// <typeparam name="T0">The T0 component type.</typeparam> <typeparam name="T1">The T1 component type.</typeparam> <typeparam name="T2">The T2 component type.</typeparam> <typeparam name="T3">The T3 component type.</typeparam> <typeparam name="T4">The T4 component type.</typeparam>
    public static void Each<T0, T1, T2, T3, T4>(Iter it, delegate*<Iter, int, T0*, T1*, T2*, T3*, T4*, void> callback)
    {
        int count = it.Handle->count == 0 && it.Handle->table == null ? 1 : it.Handle->count;
        
        FieldData<T0> field0 = it.GetFieldData<T0>(0); FieldData<T1> field1 = it.GetFieldData<T1>(1); FieldData<T2> field2 = it.GetFieldData<T2>(2); FieldData<T3> field3 = it.GetFieldData<T3>(3); FieldData<T4> field4 = it.GetFieldData<T4>(4);
        IterationTechnique flags = it.GetIterationTechnique(5);
            
        Ecs.TableLock(it);
        
        if (RuntimeHelpers.IsReferenceOrContainsReferences<T0>() || RuntimeHelpers.IsReferenceOrContainsReferences<T1>() || RuntimeHelpers.IsReferenceOrContainsReferences<T2>() || RuntimeHelpers.IsReferenceOrContainsReferences<T3>() || RuntimeHelpers.IsReferenceOrContainsReferences<T4>())
        {
            if (flags == IterationTechnique.None)
                Managed(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Shared)
                SharedManaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Sparse)
                SparseManaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == (IterationTechnique.Sparse | IterationTechnique.Shared))
                SparseSharedManaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
        }
        else
        {
           if (flags == IterationTechnique.None)
                Unmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Shared)
                SharedUnmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == IterationTechnique.Sparse)
                SparseUnmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
            else if (flags == (IterationTechnique.Sparse | IterationTechnique.Shared))
                SparseSharedUnmanaged(it, count, callback, ref field0, ref field1, ref field2, ref field3, ref field4);
        }
            
        Ecs.TableUnlock(it);
        
        return;
        
        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void Unmanaged(Iter it, int count, delegate*<Iter, int, T0*, T1*, T2*, T3*, T4*, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(it, i, field0.PointerUnmanaged(i), field1.PointerUnmanaged(i), field2.PointerUnmanaged(i), field3.PointerUnmanaged(i), field4.PointerUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SharedUnmanaged(Iter it, int count, delegate*<Iter, int, T0*, T1*, T2*, T3*, T4*, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(it, i, field0.PointerSharedUnmanaged(i), field1.PointerSharedUnmanaged(i), field2.PointerSharedUnmanaged(i), field3.PointerSharedUnmanaged(i), field4.PointerSharedUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseUnmanaged(Iter it, int count, delegate*<Iter, int, T0*, T1*, T2*, T3*, T4*, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(it, i, field0.PointerSparseUnmanaged(i), field1.PointerSparseUnmanaged(i), field2.PointerSparseUnmanaged(i), field3.PointerSparseUnmanaged(i), field4.PointerSparseUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseSharedUnmanaged(Iter it, int count, delegate*<Iter, int, T0*, T1*, T2*, T3*, T4*, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(it, i, field0.PointerSparseSharedUnmanaged(i), field1.PointerSparseSharedUnmanaged(i), field2.PointerSparseSharedUnmanaged(i), field3.PointerSparseSharedUnmanaged(i), field4.PointerSparseSharedUnmanaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void Managed(Iter it, int count, delegate*<Iter, int, T0*, T1*, T2*, T3*, T4*, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(it, i, field0.PointerManaged(i), field1.PointerManaged(i), field2.PointerManaged(i), field3.PointerManaged(i), field4.PointerManaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SharedManaged(Iter it, int count, delegate*<Iter, int, T0*, T1*, T2*, T3*, T4*, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(it, i, field0.PointerSharedManaged(i), field1.PointerSharedManaged(i), field2.PointerSharedManaged(i), field3.PointerSharedManaged(i), field4.PointerSharedManaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseManaged(Iter it, int count, delegate*<Iter, int, T0*, T1*, T2*, T3*, T4*, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(it, i, field0.PointerSparseManaged(i), field1.PointerSparseManaged(i), field2.PointerSparseManaged(i), field3.PointerSparseManaged(i), field4.PointerSparseManaged(i));
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        static void SparseSharedManaged(Iter it, int count, delegate*<Iter, int, T0*, T1*, T2*, T3*, T4*, void> callback, ref FieldData<T0> field0, ref FieldData<T1> field1, ref FieldData<T2> field2, ref FieldData<T3> field3, ref FieldData<T4> field4)
        {
            for (int i = 0; i < count; i++)
                callback(it, i, field0.PointerSparseSharedManaged(i), field1.PointerSparseSharedManaged(i), field2.PointerSparseSharedManaged(i), field3.PointerSparseSharedManaged(i), field4.PointerSparseSharedManaged(i));
        }
    }
}